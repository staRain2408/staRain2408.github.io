<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>打者筆記</title>


    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script type="text/javascript" src = ".\Script\hitter_count.js"></script>
    <script type="text/javascript" src = ".\Script\hitter_percentage.js"></script>
    <script type="text/javascript" src = ".\Script\hitter_PR.js"></script>
    <script type="text/javascript" src = ".\Script\hitter_PR_filter.js"></script>
    <script type="text/javascript" src = ".\Script\hitter.js"></script>
    <link rel="stylesheet" href=".\CSS\field.css">


    
</head>
<body>
    <div>
        <h1 id="Tianmu" style="display: none; ">臺北市立天母棒球場</h1>
        <h1 id="XinZhuang" style="display: none; ">新北市立新莊棒球場</h1>
        <h1 id="Taoyuan" style="display: none; ">樂天桃園棒球場</h1>
        <h1 id="Hsinchu" style="display: none; ">新竹市立棒球場</h1>
        <h1 id="Intercontinental" style="display: none; ">臺中洲際棒球場</h1>
        <h1 id="Taichung" style="display: none; ">教育部體育署臺中棒球場</h1>
        <h1 id="Yunlin" style="display: none; ">雲林縣立斗六棒球場</h1>
        <h1 id="KANO" style="display: none; ">嘉義市KANO棒球場</h1>
        <h1 id="Tainan" style="display: none; ">臺南市立棒球場</h1>
        <h1 id="Kaohsiung" style="display: none; ">高雄市立澄清湖棒球場</h1>
        <h1 id="Pingtung" style="display: none; ">屏東縣立棒球場</h1>
        <h1 id="Yilan" style="display: none; ">宜蘭縣立羅東運動公園棒球場</h1>
        <h1 id="Hualien" style="display: none; ">花蓮縣立德興棒球場</h1>
        <h1 id="Taitung" style="display: none; ">臺東縣棒球村第一棒球場</h1>

        <h3 id="hitter_num"></h3>

        <h2>打擊累計數據</h2>
        <div style="justify-content: center; display: flex;">
            <select id="dataSelect" style="margin: 20px; height: 10%; font-size: 14pt;">
                <option>--請選擇--</option>
                <option value="安打">安打數</option>
                <option value="一安">一壘安打數</option>
                <option value="二安">二壘安打數</option>
                <option value="三安">三壘安打數</option>
                <option value="全壘打">全壘打數</option>
                <option value="壘打數">壘打數</option>

                <option value="出賽數">出賽數</option>
                <option value="打席">打席數</option>
                <option value="打數">打數數</option>
                <option value="打點">打點</option>
                <option value="得分">得分數</option>
                <option value="猛打賞">猛打賞數</option>

                <option value="被三振">被三振數</option>
                <option value="失誤">失誤上壘數</option>
                <option value="雙殺打">雙殺打數</option>
                <option value="四壞">四壞球數</option>
                <option value="（故四）">敬遠數</option>
                <option value="死球">觸身球數</option>

                <option value="犧飛">高飛犧牲打</option>
                <option value="犧打">犧牲觸擊</option>
                <option value="盜壘">盜壘成功</option>
                <option value="盜壘刺">盜壘失敗</option>

                <option value="完全打擊">完全打擊</option>
                <option value="三張老K">三張老K</option>
                <option value="道歉野球">道歉野球</option>
                <option value="吸球機">吸球機</option>
                <option value="保送機器">保送機器</option>
                <option value="雙響炮">雙響炮</option>
                <option value="雙殺雖神">雙雙殺</option>
                <option value="戰犯我坦">戰犯我坦</option>
            </select>
        </div>
        <div style="justify-content: center; display: flex;" id="h_c">
            
        </div>


        <h2>打擊表現排名</h2>
        <div style="justify-content: center; display: flex;">
            <select id="dataSelect_2" style="margin: 20px; height: 10%; font-size: 14pt;">
                <!-- '打擊率', '長打率', '純長打率', '上壘率', '被保送率', '被三振率', '三振保送比' -->
                <option>--請選擇--</option>
                <option value="打擊率">打擊率</option>
                <option value="長打率">長打率</option>
                <option value="純長打率">純長打率</option>
                <option value="上壘率">上壘率</option>
                <option value="被保送率">被保送率</option>
                <option value="被三振率">被三振率</option>
                <option value="三振保送比">三振保送比</option>
            </select>
        </div>
        <div style="justify-content: center; display: flex;" id="h_p">
            
        </div>




        <h2>球員成績查詢</h2>
        <div style="justify-content: center; display: flex;">
            <form id="inputForm">
                <label for="userInput" style="color: aliceblue; font-size: 14pt;">輸入球員名稱:</label>
                <input type="text" id="userInput" name="userInput" style="font-size: 14pt; height: 16pt;">
                <label for="checkbox" style="font-size: 14pt;  color: rgb(255, 255, 255);">球員需符合規定投球局數</label>
                <input type="checkbox" id="checkbox" name="checkbox" style="transform: scale(1.5);">
                <button type="button" onclick="readInput_hit()" style="font-size: 13pt;">球員查詢</button>
            </form>
        </div>
        <div style="justify-content: center; display: flex; margin: 1em;" id="h_PR">
            
        </div>

        <div style="margin: 5em;"></div>
    </div>

    <style>
        #hitter_num_Chart{
            max-height: 500px;
            max-width: 800px;
        }

        #hitter_percent_Chart{
            max-height: 500px;
            max-width: 800px;
        }

        #hitter_PR_Chart{
            max-height: 500px;
            max-width: 800px;
        }
    </style>
    


    <script>
        // 控制累計打擊成績
        document.getElementById('dataSelect').addEventListener('change', function() {
            document.getElementById('h_c').innerHTML= '<canvas id="hitter_num_Chart"></canvas>';
            
            const value = getParameterByName('value');
            const selectedValue = this.value;

            // '安打', '一安', '二安', '三安', '全壘打', '壘打數',
            if (selectedValue === '安打') {
                draw_bar('打進場內且球員安全上壘', hitter_count[place_pair[value]]['安打'][0], hitter_count[place_pair[value]]['安打'][1]);
            } else if (selectedValue === '一安') {
                draw_bar('打出安打的擊球員成功抵達一壘', hitter_count[place_pair[value]]['一安'][0], hitter_count[place_pair[value]]['一安'][1]);
            } else if (selectedValue === '二安') {
                draw_bar('打出安打的擊球員一口氣抵達二壘', hitter_count[place_pair[value]]['二安'][0], hitter_count[place_pair[value]]['二安'][1]);
            } else if (selectedValue === '三安') {
                draw_bar('打出安打的擊球員一口氣抵達三壘', hitter_count[place_pair[value]]['三安'][0], hitter_count[place_pair[value]]['三安'][1]);
            } else if (selectedValue === '全壘打') {
                draw_bar('擊出界內球且進入觀眾席', hitter_count[place_pair[value]]['全壘打'][0], hitter_count[place_pair[value]]['全壘打'][1]);
            } else if (selectedValue === '壘打數') {
                draw_bar('安打獲得的壘數總和', hitter_count[place_pair[value]]['壘打數'][0], hitter_count[place_pair[value]]['壘打數'][1]);
            }
            // '出賽數', '打席', '打數', '打點', '得分', '猛打賞'
            else if (selectedValue === '打席') {
                draw_bar('打者上場打擊的次數', hitter_count[place_pair[value]]['打席'][0], hitter_count[place_pair[value]]['打席'][1]);
            }else if (selectedValue === '打數') {
                draw_bar('打擊並非成功的犧牲觸擊、四壞球保送、觸身球保送、高飛犧牲打的次數', hitter_count[place_pair[value]]['打數'][0], hitter_count[place_pair[value]]['打數'][1]);
            }else if (selectedValue === '出賽數') {
                draw_bar('球員出賽場次', hitter_count[place_pair[value]]['出賽數'][0], hitter_count[place_pair[value]]['出賽數'][1]);
            }else if (selectedValue === '打點') {
                draw_bar('打席使壘上跑者回本壘得分', hitter_count[place_pair[value]]['打點'][0], hitter_count[place_pair[value]]['打點'][1]);
            }else if (selectedValue === '得分') {
                draw_bar('打者上壘後回成功本壘得分', hitter_count[place_pair[value]]['得分'][0], hitter_count[place_pair[value]]['得分'][1]);
            }else if (selectedValue === '猛打賞') {
                draw_bar('單場比賽超過三次安打', hitter_count[place_pair[value]]['猛打賞'][0], hitter_count[place_pair[value]]['猛打賞'][1]);
            }  
            // '被三振', '失誤', '雙殺打', '四壞', '（故四）', '死球', 
            else if (selectedValue === '被三振') {
                draw_bar('單一打席內打者遭投手取得三顆好球', hitter_count[place_pair[value]]['被三振'][0], hitter_count[place_pair[value]]['被三振'][1]);
            } else if (selectedValue === '失誤') {
                draw_bar('因對手守備失誤而安全上壘', hitter_count[place_pair[value]]['失誤'][0], hitter_count[place_pair[value]]['失誤'][1]);
            } else if (selectedValue === '雙殺打') {
                draw_bar('一個打席內造成兩位選手出局', hitter_count[place_pair[value]]['雙殺打'][0], hitter_count[place_pair[value]]['雙殺打'][1]);
            } else if (selectedValue === '四壞') {
                draw_bar('單一打席內打者取的四顆壞球', hitter_count[place_pair[value]]['四壞'][0], hitter_count[place_pair[value]]['四壞'][1]);
            } else if (selectedValue === '（故四）') {
                draw_bar('投捕手因戰術考量刻意讓打者保送上壘', hitter_count[place_pair[value]]['（故四）'][0], hitter_count[place_pair[value]]['（故四）'][1]);
            } else if (selectedValue === '死球') {
                draw_bar('打者在未出棒的情況下遭投手投球擊中身體', hitter_count[place_pair[value]]['死球'][0], hitter_count[place_pair[value]]['死球'][1]);
            } 
            
            // '犧飛', '犧打', '盜壘', '盜壘刺'
            else if (selectedValue === '犧飛') {
                draw_bar('擊球員擊出高飛球遭到接殺後，護送壘上的跑壘員回本壘得分', hitter_count[place_pair[value]]['犧飛'][0], hitter_count[place_pair[value]]['犧飛'][1]);
            } else if (selectedValue === '犧打') {
                draw_bar('使用觸擊球促使壘上跑者推進的戰術', hitter_count[place_pair[value]]['犧打'][0], hitter_count[place_pair[value]]['犧打'][1]);
            } else if (selectedValue === '盜壘') {
                draw_bar('跑壘員提前離開壘包佔領下一個壘包的戰術', hitter_count[place_pair[value]]['盜壘'][0], hitter_count[place_pair[value]]['盜壘'][1]);
            } else if (selectedValue === '盜壘刺') {
                draw_bar('盜壘過程在上壘前遭守備員觸殺', hitter_count[place_pair[value]]['盜壘刺'][0], hitter_count[place_pair[value]]['盜壘刺'][1]);
            }

            // '完全打擊', '三張老K', '道歉野球', '吸球機機', '保送機器', '雙響炮', '雙殺雖神', '戰犯我坦'
            else if (selectedValue === '完全打擊') {
                draw_bar('同一場比賽內單一打者擊出一壘、二壘、三壘安打及全壘打', hitter_count[place_pair[value]]['完全打擊'][0], hitter_count[place_pair[value]]['完全打擊'][1]);
            } else if (selectedValue === '三張老K') {
                draw_bar('單場比賽打者遭三次以上的三振', hitter_count[place_pair[value]]['三張老K'][0], hitter_count[place_pair[value]]['三張老K'][1]);
            } else if (selectedValue === '道歉野球') {
                draw_bar('單場比賽中打者有雙殺與全壘打表現', hitter_count[place_pair[value]]['道歉野球'][0], hitter_count[place_pair[value]]['道歉野球'][1]);
            } else if (selectedValue === '吸球機') {
                draw_bar('單場比賽打者遭兩次以上觸身球', hitter_count[place_pair[value]]['吸球機'][0], hitter_count[place_pair[value]]['吸球機'][1]);
            } else if (selectedValue === '保送機器') {
                draw_bar('單場比賽打者遭三次以上保送', hitter_count[place_pair[value]]['保送機器'][0], hitter_count[place_pair[value]]['保送機器'][1]);
            } else if (selectedValue === '雙響炮') {
                draw_bar('單場比賽打者擊出兩發以上全壘打', hitter_count[place_pair[value]]['雙響炮'][0], hitter_count[place_pair[value]]['雙響炮'][1]);
            } else if (selectedValue === '雙殺雖神') {
                draw_bar('單場比賽打者擊出兩次以上雙殺打', hitter_count[place_pair[value]]['雙殺雖神'][0], hitter_count[place_pair[value]]['雙殺雖神'][1]);
            } else if (selectedValue === '戰犯我坦') {
                draw_bar('單場比賽打者遭雙殺、三振各一次以上', hitter_count[place_pair[value]]['戰犯我坦'][0], hitter_count[place_pair[value]]['戰犯我坦'][1]);
            }

            
        });




        document.getElementById('dataSelect_2').addEventListener('change', function() {
            document.getElementById('h_p').innerHTML= '<canvas id="hitter_percent_Chart"></canvas>';
            
            const value = getParameterByName('value');
            const selectedValue = this.value;

            // '打擊率', '長打率', '純長打率', '上壘率', '被保送率', '被三振率', '三振保送比'
            if (selectedValue === '打擊率') {
                draw_bar_percent('打者擊出安打的機率', hitter_percentages[place_pair[value]]['打擊率'][0], hitter_percentages[place_pair[value]]['打擊率'][1]);
            } else if (selectedValue === '長打率') {
                draw_bar_percent('打者製造長打的能力', hitter_percentages[place_pair[value]]['長打率'][0], hitter_percentages[place_pair[value]]['長打率'][1]);
            } else if (selectedValue === '純長打率') {
                draw_bar_percent('打者打出長打的機率', hitter_percentages[place_pair[value]]['純長打率'][0], hitter_percentages[place_pair[value]]['純長打率'][1]);
            } else if (selectedValue === '上壘率') {
                draw_bar_percent('打者成功上壘的機率', hitter_percentages[place_pair[value]]['上壘率'][0], hitter_percentages[place_pair[value]]['上壘率'][1]);
            } else if (selectedValue === '被保送率') {
                draw_bar_percent('打者靠選球上壘的機率', hitter_percentages[place_pair[value]]['被保送率'][0], hitter_percentages[place_pair[value]]['被保送率'][1]);
            } else if (selectedValue === '被三振率') {
                draw_bar_percent('打者遭三振的機率', hitter_percentages[place_pair[value]]['被三振率'][0], hitter_percentages[place_pair[value]]['被三振率'][1]);
            } else if (selectedValue === '三振保送比') {
                draw_bar_percent('反映打者選球的能力', hitter_percentages[place_pair[value]]['三振保送比'][0], hitter_percentages[place_pair[value]]['三振保送比'][1]);
            }
        });



        
        function readInput_hit() {
            document.getElementById('h_PR').innerHTML= '<canvas id="hitter_PR_Chart"></canvas>';
            var input = document.getElementById('userInput').value;
            let value = getParameterByName('value');
            var checkbox = document.getElementById('checkbox').checked;
            if(checkbox){   
                draw_PR(input, hitter_PR_filter[place_pair[value]][input]);} 
            else{
                draw_PR(input, hitter_PR[place_pair[value]][input]);
            }
        }


    </script>
</body>
</html>